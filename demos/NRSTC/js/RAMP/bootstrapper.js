/*! ramp-gis-viewer 03-07-2014 : v. 1.0.42-7 

 * RAMP GIS viewer - ArcticFox; Sample of an implementation of RAMP 
 **/
require(["dojo/parser","dojo/on","dojo/topic","dojo/request/script","dojo/request/xhr","ramp/map","ramp/basemapSelector","ramp/maptips","ramp/datagrid","ramp/navigation","ramp/filterManager","ramp/bookmarkLink","utils/url","ramp/featureHighlighter","ramp/ramp","ramp/globalStorage","ramp/gui","ramp/eventManager","themes/theme","utils/util","utils/prototype!","utils/functionMangler!"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){"use strict";function u(){c.subscribe(r.Map.ALL_LAYERS_LOADED,function(){t.subscribeAll([r.BasemapSelector.UI_COMPLETE,r.FilterManager.UI_COMPLETE],function(){l.init(window.location.pathname.split("/").last())});var a=f.getMap().__LOD.level?f.getMap().__LOD.level:0;j.init(a),n.init(),h.init(),g.init(),k.init(),s.tooltipster()}),f.init(),i.init()}t.checkConsole(),a.parse(),esri.config.defaults.io.corsDetection=!1;var v,w,x=$("html").attr("lang");"en"!==x&&"fr"!==x&&(x="en"),v="fr"===x?"config.fr.json":"config.en.json",w=e(v,{handleAs:"json"}),w.then(function(a){p.config=a,q.load(null,null,function(){}),u(),o.loadStrings()},function(a){})});