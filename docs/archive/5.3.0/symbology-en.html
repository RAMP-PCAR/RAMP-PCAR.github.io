
﻿<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge;" />
    <meta charset="utf-8" />
    <title>RAMP Symbology Support</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    
    <meta name="author" content="Environment Canada">
    <!--[if gte IE 9 | !IE ]><!-->
    <link href="/assets/themes/gc/assets/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="stylesheet" href="/assets/themes/gc/css/wet-boew.min.css" />
    <!--<![endif]-->
    <link rel="stylesheet" href="/assets/themes/gc/css/theme.min.css" />
    <link rel="stylesheet" href="/assets/themes/gc/css/extra.css" />
    <link rel="stylesheet" href="/assets/themes/gc/css/pygments.css" />
    <!--[if lt IE 9]><link href="./assets/favicon.ico" rel="shortcut icon" /> <link rel="stylesheet" href="./css/ie8-wet-boew.min.css" /> <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="./js/ie8-wet-boew.min.js"></script><![endif]-->
    <noscript>
        <link rel="stylesheet" href="/assets/themes/gc/css/noscript.min.css" />
    </noscript>
    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
</head>

<body vocab="http://schema.org/" typeof="WebPage">
    <ul id="wb-tphp">
        <li class="wb-slc">
            <a class="wb-sl" href="#wb-cont">Skip to main content</a>
        </li>
        <li class="wb-slc visible-md visible-lg">
            <a class="wb-sl" href="#wb-info">Skip to site information</a>
        </li>
    </ul>
    <header role="banner">
        <div id="wb-bnr">
            <div id="wb-bar">
                <div class="container">
                    <div class="row">
                        <!--<section id="wb-lng" class="visible-md visible-lg">
                            <h2>Language selection</h2>
                            <ul class="text-right">
                                <li>
                                    <a lang="fr" hreflang="fr" href="index-fr.html">Français</a>
                                </li>
                                <li class="curr">
                                    English&#32;<span>(current)</span>
                                </li>
                            </ul>
                        </section>-->
                        <section class="wb-mb-links col-xs-12 visible-sm visible-xs" id="wb-glb-mn">
                            <h2>Menu</h2>
                            <ul class="pnl-btn list-inline text-right">
                                <li>
                                    <a href="#mb-pnl" title="Menu" aria-controls="mb-pnl" class="overlay-lnk btn btn-xs btn-default" role="button"><span class="glyphicon glyphicon-th-list"><span class="wb-inv">Menu</span></span></a>
                                </li>
                            </ul>
                            <div id="mb-pnl"></div>
                        </section>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div id="wb-sttl" class="col-md-8">
                        <a href="/index-en.html">
                            <img src="/assets/themes/gc/assets/bobcat_logo_sharp_smaller_s_white.png" alt="RAMP logo" /> <span>
                                Reusable Accessible Mapping Platform<span class="wb-inv">, </span><small>An open source project led by an award winning team of web mapping developers</small>
                            </span>
                        </a>
                    </div>
                    <section id="wb-srch" class="col-md-4 visible-md visible-lg">
                        <h2>Search</h2>
                        <form action="https://google.ca/search" method="get" role="search" class="form-inline">
                            <div class="form-group">
                                <label for="wb-srch-q">Search website</label>
                                <input id="wb-srch-q" class="form-control" name="q" type="search" value="" size="27" maxlength="150" />
                                <input type="hidden" name="q" value="site:/ OR site:github.com/RAMP-PCAR/" />
                            </div>
                            <button type="submit" id="wb-srch-sub" class="btn btn-default">Search</button>
                        </form>
                    </section>
                </div>
            </div>
        </div>
        <nav role="navigation" id="wb-sm" data-ajax-fetch="/assets/themes/gc/ajax/sitemenu-en.html" data-trgt="mb-pnl" class="wb-menu visible-md visible-lg" typeof="SiteNavigationElement">
            <div class="container nvbar">
                <h2>Site menu</h2>
                <div class="row">
                    <ul class="list-inline menu">
                        <li><a href="/index-en.html" class=" item">RAMP Project</a></li>
                        <li><a href="/demos/index-en.html" class="item">Using RAMP</a></li>
                        <li><a href="/docs/index-en.html" class="item">RAMP Documentation</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        
        <nav role="navigation" id="wb-bc" property="breadcrumb">
            <h2>You are here:</h2>
            <div class="container">
                <div class="row">
                    <ol class="breadcrumb">
                        
                        
                            
                                <li><a href="/index-en.html">Home</a></li>
                            
                                                
                        
                        
                            
                                <li><a href="/docs/index-en.html">Documentation</a></li>
                            
                                                
                        
                        
                            
                                <li><a href="/docs/archive/index-en.html">Archive</a></li>
                            
                                                
                        
                        
                            
                                <li><a href="/docs/archive/5.3.0/index-en.html">Documentation</a></li>
                            
                                                
                        

                        <li class="">RAMP Symbology Support</li>
                    </ol>
                </div>
            </div>
        </nav>
        
        <div class="row">

            <main role="main" property="mainContentOfPage" class="col-md-9 col-md-push-3">
                <p><a name="top"></a></p>

<h1 id="wb-cont">RAMP Symbology Support</h1>

<div class="toc"></div>

<p>RAMP supports feature symbology for the three most common symbology renderers: Simple Renderer, Unique Value Renderer, and Class Breaks Renderer.  All symbology is defined in the <a href="json-config-en.html#featurelayers_symbology">symbology node</a> of the feature layer config object.  Specifics for the node as described below.</p>

<p>It is also of note that the symbology node in the config also drives the legend generation, so we include label values in the structure as well.</p>

<h2 id="simple-renderer">Simple Renderer</h2>

<p>A Simple Renderer means that every feature in layer has the same symbol.  The configuration for a Simple Renderer only defines the images source, and a value to define it as simple.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
    <span class="s2">&quot;symbology&quot;</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;simple&quot;</span><span class="p">,</span>
		<span class="s2">&quot;imageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/mypic.png&quot;</span><span class="p">,</span>
		<span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Buildings&quot;</span>
	<span class="p">}</span>    
<span class="p">}</span></code></pre></div>

<p class="text-right"><a href="#top">Back To Top</a></p>

<h2 id="unique-value-renderer">Unique Value Renderer</h2>

<p>A Unique Value Renderer allows distinct values of a feature’s attributes to define that feature’s symbology.  ESRI allows up to three attributes to be used in combination, but only one is required.  The configuration for a Unique Value Renderer defines the attribute fields to render against, a mapping of field values to image urls, and a default image for features that don’t match any mappings.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
    <span class="s2">&quot;symbology&quot;</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;uniqueValue&quot;</span><span class="p">,</span>
		<span class="s2">&quot;defaultImageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/defpic.png&quot;</span><span class="p">,</span>
		<span class="s2">&quot;field1&quot;</span><span class="o">:</span> <span class="s2">&quot;BUILDING_TYPE&quot;</span><span class="p">,</span>
		<span class="s2">&quot;field2&quot;</span><span class="o">:</span> <span class="s2">&quot;SIZE_TYPE&quot;</span><span class="p">,</span>
		<span class="s2">&quot;field3&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
		<span class="s2">&quot;valueMaps&quot;</span><span class="o">:</span> <span class="p">[</span>
			<span class="p">{</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;HOUSE, SMALL&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;imageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/green.png&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Small Houses&quot;</span>
			<span class="p">},</span>
			<span class="p">{</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;HOUSE, BIG&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;imageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/red.png&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Big Houses&quot;</span>
			<span class="p">},</span>
			<span class="p">{</span> <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;OFFICE, SMALL&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;imageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/blue.png&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Small Offices&quot;</span>
			<span class="p">}</span>
		<span class="p">]</span>
	<span class="p">}</span>    
<span class="p">}</span></code></pre></div>

<p class="text-right"><a href="#top">Back To Top</a></p>

<h2 id="class-breaks-renderer">Class Breaks Renderer</h2>

<p>A Class Breaks Renderer allows a feature’s attribute to define that feature’s symbology based on a numerical range.  The configuration for a Class Breaks Renderer defines the attribute to render against, a mapping of value ranges to image urls, and a default image for features that don’t match any mappings.  Note that order is important in the mapping array, as the max value of the previous item determines the min value of the next.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
    <span class="s2">&quot;symbology&quot;</span><span class="o">:</span> <span class="p">{</span>
		<span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;classBreaks&quot;</span><span class="p">,</span>
		<span class="s2">&quot;defaultImageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/defpic.png&quot;</span><span class="p">,</span>
		<span class="s2">&quot;field&quot;</span><span class="o">:</span> <span class="s2">&quot;BUILDING_SIZE&quot;</span><span class="p">,</span>
		<span class="s2">&quot;minValue&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="s2">&quot;rangeMaps&quot;</span><span class="o">:</span> <span class="p">[</span>
			<span class="p">{</span> <span class="s2">&quot;maxValue&quot;</span><span class="o">:</span> <span class="mi">1500</span><span class="p">,</span>
			  <span class="s2">&quot;imageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/green.png&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Small Building&quot;</span>
			<span class="p">},</span>
			<span class="p">{</span> <span class="s2">&quot;maxValue&quot;</span><span class="o">:</span> <span class="mi">4000</span><span class="p">,</span>
			  <span class="s2">&quot;imageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/red.png&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Medium Building&quot;</span>
			<span class="p">},</span>
			<span class="p">{</span> <span class="s2">&quot;maxValue&quot;</span><span class="o">:</span> <span class="mi">10000</span><span class="p">,</span>
			  <span class="s2">&quot;imageUrl&quot;</span><span class="o">:</span> <span class="s2">&quot;http://www.mysite.com/blue.png&quot;</span><span class="p">,</span>
			  <span class="s2">&quot;label&quot;</span><span class="o">:</span> <span class="s2">&quot;Large Building&quot;</span>
			<span class="p">}</span>
		<span class="p">]</span>
	<span class="p">}</span>    
<span class="p">}</span></code></pre></div>

<p class="text-right"><a href="#top">Back To Top</a></p>

<h2 id="image-urls-and-content-switches">Image URLs and Content Switches</h2>

<p>ArcGIS Server will generate REST endpoints that return images for symbology (you can see this in the Legend JSON endpoint).  An example would look something like http://maps-cartes.ec.gc.ca/ArcGIS/rest/services/ECNY/MapServer/0/images/27BF26F8.  These can be convenient ways to reference good images for the symbology configuration, with one exception.  If your server setup involves multiple ArcGIS Servers behind a content switch, the generated image key (e.g. 27BF26F8) can differ across the server instances, leading to broken images.  In this scenario, we recommend using data URLs to define the image, or manually host the images in a location that will have stable URLs.</p>

<p class="text-right"><a href="#top">Back To Top</a></p>

                <dl id="wb-dtmd" property="dateModified">
                    <dt>Date modified:&#32;</dt>
                    <dd>
                        <time>2015-05-22</time>
                    </dd>
                </dl>
            </main>

            ﻿<nav role="navigation" id="wb-sec" typeof="SiteNavigationElement" class="col-md-3 col-md-pull-9 visible-md visible-lg">

    <h2>
        RAMP Documentation - Table of Contents
    </h2>

    <ul class="list-group menu list-unstyled">

        <li>

            <h3 class="wb-navcurr">
                Table of Contents
            </h3>
        </li>

        <li>
            <a class="list-group-item" href="started-en.html">
                Getting Started
            </a>

            <ul class="list-group list-unstyled">

                <li>
                    <a class="list-group-item" href="quick-start-en.html">
                        Quick Start Guide
                    </a>
                </li>
            </ul>
        </li>

        <li>
            <a class="list-group-item item" href="ramp-customization-intro-en.html">
                Customization Introduction
            </a>

            <ul class="list-group list-unstyled">

                <li>
                    <a class="list-group-item" href="json-config-en.html">
                        JSON Config Definition
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="template-guide-en.html">
                        Templating Guide
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="template-example-en.html">
                        Template Example
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="template-summary-en.html">
                        Template Summary
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="proxy.html">
                        Proxy Configuration
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="add-new-module.html">
                        Add New Module
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="wet-customization-en.html">
                        WET Template Customization
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="locale-en.html">
                        Localization
                    </a>
                </li>
            </ul>
        </li>

        <li>
            <a class="list-group-item" href="architecture-overview-en.html">
                Architecture Overview
            </a>

            <ul class="list-group list-unstyled">

                <li>
                    <a class="list-group-item" href="dojo-setup-en.html">
                        Initialization
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="namingconventions-en.html">
                        Naming Conventions
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="module-overview-en.html">
                        Module Overview
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="external-libraries-en.html">
                        External Library Implementations
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="build-tool-en.html">
                        Build Tool
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="configuration-flow-en.html">
                        Configuration Workflow
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="basemap-support-en.html">
                        Basemap Support
                    </a>
                </li>
				<li>
                    <a class="list-group-item" href="feature-support-en.html">
                        Feature Layer Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="wms-support-en.html">
                        WMS Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="advanced-toolbar-en.html">
                        Advanced Toolbar
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="static-layer-support-en.html">
                        Static Layer Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="symbology-en.html">
                        Symbology Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="layer-load-en.html">
                        Layer Loading
                    </a>
                </li>				
                <li><a class="list-group-item" href="user-added-data.html">User Added Data</a></li>
            </ul>
        </li>

        <li>
            <a class="list-group-item" href="/api/index-en.html">
                API Reference
            </a>
        </li>
        <li>
            <a class="list-group-item" href="/rcs/index-en.html">
                RCS Reference
            </a>
        </li>

        <li>
            <a class="list-group-item" href="known-issues-en.html">
                Known Issues
            </a>
        </li>
    </ul>
</nav>

        </div>
    </div>

    <footer role="contentinfo" id="wb-info" class="container visible-sm visible-md visible-lg wb-navcurr">
        <nav role="navigation" class="row">
            <h2>Site information</h2>
            <section class="col-sm-4">
                <h3>About</h3>
                <ul class="list-unstyled">
                    <li>
                        <a href="/index-en.html">About RAMP</a>
                    </li>
                    <li>
                        <a href="http://www.tbs-sct.gc.ca/ws-nw/index-eng.asp">About the Web Standards</a>
                    </li>
                </ul>
            </section>
            <section class="col-sm-4">
                <h3>Contact us</h3>
                <ul class="list-unstyled">
                    <li>
                        <a href="https://github.com/RAMP-PCAR/RAMP-PCAR/issues/new">Questions or comments?</a>
                    </li>
                </ul>
            </section>
            <section class="col-sm-4">
                <h3>News</h3>
                <ul class="list-unstyled">
                    <li>
                        <a href="https://github.com/RAMP-PCAR/RAMP-PCAR/pulse">Recent project activity</a>
                    </li>
                    <li>
                        <a href="https://github.com/RAMP-PCAR/RAMP-PCAR/graphs">Project statistics</a>
                    </li>
                </ul>
            </section>
        </nav>
    </footer>
    
    <!--[if gte IE 9 | !IE ]><!-->

    <script src="/assets/themes/gc/js/wet-boew.min.js"></script>
    <!--<![endif]-->
    <!--[if lt IE 9]><script src="./js/ie8-wet-boew2.min.js"></script><![endif]-->

    <script src="/assets/themes/gc/js/extra.js"></script>
    <script src="/assets/themes/gc/js/toc.js"> </script>
    <script type="text/javascript">
        $(document).ready(function () {
            if (location.pathname.indexOf("/ramp-pcar-docs/") !== -1) {
                $("body").append('<img src="/assets/images/ramp_docs_edge.png" class="ribbon">');
            }

            $('.toc')
                .addClass("mrgn-bttm-lg panel panel-default")
                .toc({
                    title: '<header class="panel-heading"><h2 class="panel-title">Table of contents</h2></header>',
                    listType: 'ul',
                    selector: 'h2, h3, h4, h5, h6, .include_toc',
                    showSpeed: 0
                });
        });
    </script>
</body>
</html>