
﻿<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge;" />
    <meta charset="utf-8" />
    <title>RAMP Configuration Migration Guide</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    
    <meta name="author" content="Environment Canada">
    <!--[if gte IE 9 | !IE ]><!-->
    <link href="/assets/themes/gc/assets/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="stylesheet" href="/assets/themes/gc/css/wet-boew.min.css" />
    <!--<![endif]-->
    <link rel="stylesheet" href="/assets/themes/gc/css/theme.min.css" />
    <link rel="stylesheet" href="/assets/themes/gc/css/extra.css" />
    <link rel="stylesheet" href="/assets/themes/gc/css/pygments.css" />
    <!--[if lt IE 9]><link href="./assets/favicon.ico" rel="shortcut icon" /> <link rel="stylesheet" href="./css/ie8-wet-boew.min.css" /> <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="./js/ie8-wet-boew.min.js"></script><![endif]-->
    <noscript>
        <link rel="stylesheet" href="/assets/themes/gc/css/noscript.min.css" />
    </noscript>
    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
</head>

<body vocab="http://schema.org/" typeof="WebPage">
    <ul id="wb-tphp">
        <li class="wb-slc">
            <a class="wb-sl" href="#wb-cont">Skip to main content</a>
        </li>
        <li class="wb-slc visible-md visible-lg">
            <a class="wb-sl" href="#wb-info">Skip to site information</a>
        </li>
    </ul>
    <header role="banner">
        <div id="wb-bnr">
            <div id="wb-bar">
                <div class="container">
                    <div class="row">
                        <!--<section id="wb-lng" class="visible-md visible-lg">
                            <h2>Language selection</h2>
                            <ul class="text-right">
                                <li>
                                    <a lang="fr" hreflang="fr" href="index-fr.html">Français</a>
                                </li>
                                <li class="curr">
                                    English&#32;<span>(current)</span>
                                </li>
                            </ul>
                        </section>-->
                        <section class="wb-mb-links col-xs-12 visible-sm visible-xs" id="wb-glb-mn">
                            <h2>Menu</h2>
                            <ul class="pnl-btn list-inline text-right">
                                <li>
                                    <a href="#mb-pnl" title="Menu" aria-controls="mb-pnl" class="overlay-lnk btn btn-xs btn-default" role="button"><span class="glyphicon glyphicon-th-list"><span class="wb-inv">Menu</span></span></a>
                                </li>
                            </ul>
                            <div id="mb-pnl"></div>
                        </section>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div id="wb-sttl" class="col-md-8">
                        <a href="/index-en.html">
                            <img src="/assets/themes/gc/assets/bobcat_logo_sharp_smaller_s_white.png" alt="RAMP logo" /> <span>
                                Reusable Accessible Mapping Platform<span class="wb-inv">, </span><small>An open source project led by an award winning team of web mapping developers</small>
                            </span>
                        </a>
                    </div>
                    <section id="wb-srch" class="col-md-4 visible-md visible-lg">
                        <h2>Search</h2>
                        <form action="https://google.ca/search" method="get" role="search" class="form-inline">
                            <div class="form-group">
                                <label for="wb-srch-q">Search website</label>
                                <input id="wb-srch-q" class="form-control" name="q" type="search" value="" size="27" maxlength="150" />
                                <input type="hidden" name="q" value="site:/ OR site:github.com/RAMP-PCAR/" />
                            </div>
                            <button type="submit" id="wb-srch-sub" class="btn btn-default">Search</button>
                        </form>
                    </section>
                </div>
            </div>
        </div>
        <nav role="navigation" id="wb-sm" data-ajax-fetch="/assets/themes/gc/ajax/sitemenu-en.html" data-trgt="mb-pnl" class="wb-menu visible-md visible-lg" typeof="SiteNavigationElement">
            <div class="container nvbar">
                <h2>Site menu</h2>
                <div class="row">
                    <ul class="list-inline menu">
                        <li><a href="/index-en.html" class=" item">RAMP Project</a></li>
                        <li><a href="/demos/index-en.html" class="item">Using RAMP</a></li>
                        <li><a href="/docs/index-en.html" class="item">RAMP Documentation</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        
        <nav role="navigation" id="wb-bc" property="breadcrumb">
            <h2>You are here:</h2>
            <div class="container">
                <div class="row">
                    <ol class="breadcrumb">
                        
                        
                            
                                <li><a href="/index-en.html">Home</a></li>
                            
                                                
                        
                        
                            
                                <li><a href="/docs/index-en.html">Documentation</a></li>
                            
                                                
                        

                        <li class="">RAMP Configuration Migration Guide</li>
                    </ol>
                </div>
            </div>
        </nav>
        
        <div class="row">

            <main role="main" property="mainContentOfPage" class="col-md-9 col-md-push-3">
                <p><a name="top"></a></p>

<h1 id="wb-cont">RAMP Configuration Migration Guide</h1>

<div class="toc"></div>

<h2 id="canada-goose-to-dragonfly">Canada Goose to Dragonfly</h2>

<p>A number of schema changes were made to the config file in the Dragonfly release of RAMP.  Most of the changes were to facillitate a smaller config file, and to have data in more obvious locations.  </p>

<p>Also note that a number of fields are now optional.  If they are not present in the config file, a default value will be used.  The <a href="json-config-en.html">config schema</a> will describe these fields.</p>

<h3 id="changes-to-feature-layers">Changes to Feature Layers</h3>

<h4 id="feature-layer-collection">Feature Layer Collection</h4>

<p>The <strong>featureLayers</strong> collection now resides under the <strong>layers</strong> node, and is called <strong>feature</strong>.</p>

<p><img src="../assets/images/cfg_featlayer.png" alt="Config file differences - feature layer collection" /></p>

<h4 id="feature-uuid">Feature UUID</h4>

<p>The <strong>uuid</strong> field has been removed.  If a RAMP application uses a uuid, the uuid should be used as the layer’s id field.</p>

<h4 id="visibility-settings">Visibility Settings</h4>

<p>Fields <strong>layerVisible</strong> and <strong>boundingBoxVisible</strong> have been moved to the <strong>settings</strong> node of the feature layer config object.  <strong>layerVisible</strong> has been renamed to <strong>visible</strong></p>

<p><img src="../assets/images/cfg_featsettings.png" alt="Config file differences - feature layer settings" /></p>

<h4 id="templates">Templates</h4>

<p>All template values now reside under the <strong>template</strong> node.  Consequently the <strong>mapTipSettings</strong> node has been removed.  The properties that contain individual template names no longer have the word <strong>Template</strong> in their name.</p>

<p><img src="../assets/images/cfg_template.png" alt="Config file differences - feature layer templates" /></p>

<h4 id="symbology">Symbology</h4>

<p>The symbology section has been restructured to support different types of renderers.  See <a href="symbology-en.html">the symbology guide</a> for details on how to format it.</p>

<p class="text-right"><a href="#top">Back To Top</a></p>

<h3 id="changes-to-wms-layers">Changes to WMS Layers</h3>

<h4 id="wms-layer-collection">WMS Layer Collection</h4>

<p>The <strong>wmsLayers</strong> collection now resides under the <strong>layers</strong> node, and is called <strong>wms</strong>.</p>

<p><img src="../assets/images/cfg_wmslayer.png" alt="Config file differences - wms layer collection" /></p>

<h4 id="visibility-settings-and-uuid">Visibility Settings and UUID</h4>

<p>The changes to visibility settings and UUID that were applied to feature layers (see above) were also applied to WMS layers.</p>

<h4 id="removed-wms-nodes">Removed WMS Nodes</h4>

<p>Nodes <strong>legend</strong>, <strong>extent</strong> and <strong>layerInfo</strong> have been removed.</p>

<p class="text-right"><a href="#top">Back To Top</a></p>

<h3 id="removed-nodes">Removed Nodes</h3>

<p>the <strong>levelOfDetails.levels</strong> collection has been removed.</p>

<p class="text-right"><a href="#top">Back To Top</a></p>

<h2 id="dragonfly-to-elk">Dragonfly to Elk</h2>

<p>More schema changes were made to the config file in the Elk release of RAMP.  This included support for new features, more defaulting, and removal of state-specifc nodes.  </p>

<p>As always, consult the <a href="json-config-en.html">config schema</a> for more granular details.</p>

<h3 id="changes-to-top-level-nodes">Changes to Top-Level Nodes</h3>

<p>Nodes <strong>lang</strong>, <strong>spatialReference</strong>, <strong>navWidget.locale</strong>, <strong>ui</strong> and <strong>globalFilter</strong> have been removed.</p>

<p>Node <strong>geometryService</strong> has been renamed to <strong>geometryServiceUrl</strong></p>

<h3 id="changes-to-support-multiple-spatial-references">Changes to Support Multiple Spatial References</h3>

<p>There is no longer a notion of a map-level spatial reference.  Spatial reference is now determined by the active basemap.  To support all this switching, the following nodes now have <strong>spatialReference</strong> values to indicate the <a href="https://developers.arcgis.com/javascript/jsapi/spatialreference-amd.html#spatialreference1">spatial reference</a> of the geometry they refer to:</p>

<ul>
  <li>objects in <strong>basemaps</strong> collection</li>
  <li>any extents in the <strong>extent</strong> object</li>
  <li>any <strong>layerExtent</strong> definition in a layers.feature object</li>
</ul>

<p>As well, the basemap objects have a new required node called <strong>tileSchema</strong>, which indicates which tiling schema this basemap belongs to.  See the <a href="basemap-support-en.html">basemap support</a> page for more details.</p>

<h3 id="changes-to-basemap-selector">Changes to Basemap Selector</h3>

<p>The basemap object property <strong>showOnInit</strong> has been removed, and replaced by a root level property called <strong>initialSelectedBasemap</strong>.  This property contains the integer index of the basemap that should be active when the site loads.  </p>

<p>Basemap objects also now support showing multiple tile sets at once.  The <strong>url</strong> property has been replaced with an array property called <strong>layers</strong> that contains individual objects with their own <strong>url</strong> properties</p>

<h3 id="changes-to-levelofdetails-node">Changes to levelOfDetails Node</h3>

<p>The <strong>levelOfDetails</strong> node has been renamed to <strong>zoomLevels</strong>.  </p>

<p>The <strong>levels</strong> child node has been removed.  </p>

<p>Child nodes <strong>maxLevel</strong> and <strong>minLevel</strong> have been renamed to <strong>max</strong> and <strong>min</strong>.</p>

<h3 id="changes-to-sitetemplate-node">Changes to siteTemplate Node</h3>

<p>The <strong>siteTemplate</strong> node has been renamed to <strong>templates</strong>.  </p>

<p>The <strong>filterGlobalRowTemplate</strong> and <strong>filterRowTemplate</strong> child nodes have been removed.  </p>

<p>Child node <strong>basemapTemplate</strong> has been renamed to <strong>basemap</strong>.</p>

<h3 id="changes-to-datagrid-node">Changes to datagrid Node</h3>

<p>The <strong>datagrid</strong> node (at the root, not the node embedded in each feature layer object) has been removed.  Most of the values inside were not being used.  </p>

<p>Value <strong>extendedDatagridExtentFilterEnabled</strong> has been moved to the configuration root.  </p>

<p>Value <strong>globalGridRowsPerPage</strong> has also been moved to the root and has been renamed to <strong>rowsPerPage</strong>.</p>


                <dl id="wb-dtmd" property="dateModified">
                    <dt>Date modified:&#32;</dt>
                    <dd>
                        <time>2015-04-28</time>
                    </dd>
                </dl>
            </main>

            ﻿<nav role="navigation" id="wb-sec" typeof="SiteNavigationElement" class="col-md-3 col-md-pull-9 visible-md visible-lg">

    <h2>
        RAMP Documentation - Table of Contents
    </h2>

    <ul class="list-group menu list-unstyled">

        <li>

            <h3 class="wb-navcurr">
                Table of Contents
            </h3>
        </li>

        <li>
            <a class="list-group-item" href="started-en.html">
                Getting Started
            </a>

            <ul class="list-group list-unstyled">

                <li>
                    <a class="list-group-item" href="quick-start-en.html">
                        Quick Start Guide
                    </a>
                </li>
            </ul>
        </li>

        <li>
            <a class="list-group-item item" href="ramp-customization-intro-en.html">
                Customization Introduction
            </a>

            <ul class="list-group list-unstyled">

                <li>
                    <a class="list-group-item" href="json-config-en.html">
                        JSON Config Definition
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="template-guide-en.html">
                        Templating Guide
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="template-example-en.html">
                        Template Example
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="template-summary-en.html">
                        Template Summary
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="proxy.html">
                        Proxy Configuration
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="add-new-module.html">
                        Add New Module
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="wet-customization-en.html">
                        WET Template Customization
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="locale-en.html">
                        Localization
                    </a>
                </li>
            </ul>
        </li>

        <li>
            <a class="list-group-item" href="architecture-overview-en.html">
                Architecture Overview
            </a>

            <ul class="list-group list-unstyled">

                <li>
                    <a class="list-group-item" href="dojo-setup-en.html">
                        Initialization
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="namingconventions-en.html">
                        Naming Conventions
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="module-overview-en.html">
                        Module Overview
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="external-libraries-en.html">
                        External Library Implementations
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="build-tool-en.html">
                        Build Tool
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="configuration-flow-en.html">
                        Configuration Workflow
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="basemap-support-en.html">
                        Basemap Support
                    </a>
                </li>
				<li>
                    <a class="list-group-item" href="feature-support-en.html">
                        Feature Layer Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="wms-support-en.html">
                        WMS Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="advanced-toolbar-en.html">
                        Advanced Toolbar
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="static-layer-support-en.html">
                        Static Layer Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="symbology-en.html">
                        Symbology Support
                    </a>
                </li>
                <li>
                    <a class="list-group-item" href="layer-load-en.html">
                        Layer Loading
                    </a>
                </li>				
                <li><a class="list-group-item" href="user-added-data.html">User Added Data</a></li>
            </ul>
        </li>

        <li>
            <a class="list-group-item" href="/api/index-en.html">
                API Reference
            </a>
        </li>
        <li>
            <a class="list-group-item" href="/rcs/index-en.html">
                RCS Reference
            </a>
        </li>

        <li>
            <a class="list-group-item" href="known-issues-en.html">
                Known Issues
            </a>
        </li>
    </ul>
</nav>

        </div>
    </div>

    <footer role="contentinfo" id="wb-info" class="container visible-sm visible-md visible-lg wb-navcurr">
        <nav role="navigation" class="row">
            <h2>Site information</h2>
            <section class="col-sm-4">
                <h3>About</h3>
                <ul class="list-unstyled">
                    <li>
                        <a href="/index-en.html">About RAMP</a>
                    </li>
                    <li>
                        <a href="http://www.tbs-sct.gc.ca/ws-nw/index-eng.asp">About the Web Standards</a>
                    </li>
                </ul>
            </section>
            <section class="col-sm-4">
                <h3>Contact us</h3>
                <ul class="list-unstyled">
                    <li>
                        <a href="https://github.com/RAMP-PCAR/RAMP-PCAR/issues/new">Questions or comments?</a>
                    </li>
                </ul>
            </section>
            <section class="col-sm-4">
                <h3>News</h3>
                <ul class="list-unstyled">
                    <li>
                        <a href="https://github.com/RAMP-PCAR/RAMP-PCAR/pulse">Recent project activity</a>
                    </li>
                    <li>
                        <a href="https://github.com/RAMP-PCAR/RAMP-PCAR/graphs">Project statistics</a>
                    </li>
                </ul>
            </section>
        </nav>
    </footer>
    
    <!--[if gte IE 9 | !IE ]><!-->

    <script src="/assets/themes/gc/js/wet-boew.min.js"></script>
    <!--<![endif]-->
    <!--[if lt IE 9]><script src="./js/ie8-wet-boew2.min.js"></script><![endif]-->

    <script src="/assets/themes/gc/js/extra.js"></script>
    <script src="/assets/themes/gc/js/toc.js"> </script>
    <script type="text/javascript">
        $(document).ready(function () {
            if (location.pathname.indexOf("/ramp-pcar-docs/") !== -1) {
                $("body").append('<img src="/assets/images/ramp_docs_edge.png" class="ribbon">');
            }

            $('.toc')
                .addClass("mrgn-bttm-lg panel panel-default")
                .toc({
                    title: '<header class="panel-heading"><h2 class="panel-title">Table of contents</h2></header>',
                    listType: 'ul',
                    selector: 'h2, h3, h4, h5, h6, .include_toc',
                    showSpeed: 0
                });
        });
    </script>
</body>
</html>