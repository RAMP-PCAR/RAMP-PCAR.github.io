<!DOCTYPE html>

<html>
<head>
  <title>dictionary.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="advancedToolbar.html">
                advancedToolbar.js
              </a>
            
              
              <a class="source" href="basemapSelector.html">
                basemapSelector.js
              </a>
            
              
              <a class="source" href="bookmarkLink.html">
                bookmarkLink.js
              </a>
            
              
              <a class="source" href="datagrid.html">
                datagrid.js
              </a>
            
              
              <a class="source" href="datagridClickHandler.html">
                datagridClickHandler.js
              </a>
            
              
              <a class="source" href="eventManager.html">
                eventManager.js
              </a>
            
              
              <a class="source" href="featureClickHandler.html">
                featureClickHandler.js
              </a>
            
              
              <a class="source" href="featureHighlighter.html">
                featureHighlighter.js
              </a>
            
              
              <a class="source" href="filterManager.html">
                filterManager.js
              </a>
            
              
              <a class="source" href="globalStorage.html">
                globalStorage.js
              </a>
            
              
              <a class="source" href="graphicExtension.html">
                graphicExtension.js
              </a>
            
              
              <a class="source" href="gui.html">
                gui.js
              </a>
            
              
              <a class="source" href="map.html">
                map.js
              </a>
            
              
              <a class="source" href="mapClickHandler.html">
                mapClickHandler.js
              </a>
            
              
              <a class="source" href="maptips.html">
                maptips.js
              </a>
            
              
              <a class="source" href="navigation.html">
                navigation.js
              </a>
            
              
              <a class="source" href="quickzoom.html">
                quickzoom.js
              </a>
            
              
              <a class="source" href="ramp.html">
                ramp.js
              </a>
            
              
              <a class="source" href="RAMP-starter.html">
                RAMP-starter.js
              </a>
            
              
              <a class="source" href="theme.html">
                theme.js
              </a>
            
              
              <a class="source" href="theme.html">
                theme.js
              </a>
            
              
              <a class="source" href="theme.html">
                theme.js
              </a>
            
              
              <a class="source" href="areaTool.html">
                areaTool.js
              </a>
            
              
              <a class="source" href="baseTool.html">
                baseTool.js
              </a>
            
              
              <a class="source" href="bufferTool.html">
                bufferTool.js
              </a>
            
              
              <a class="source" href="distanceTool.html">
                distanceTool.js
              </a>
            
              
              <a class="source" href="populationTool.html">
                populationTool.js
              </a>
            
              
              <a class="source" href="array.html">
                array.js
              </a>
            
              
              <a class="source" href="checkbox.html">
                checkbox.js
              </a>
            
              
              <a class="source" href="checkboxGroup.html">
                checkboxGroup.js
              </a>
            
              
              <a class="source" href="decorator.html">
                decorator.js
              </a>
            
              
              <a class="source" href="dictionary.html">
                dictionary.js
              </a>
            
              
              <a class="source" href="functionMangler.html">
                functionMangler.js
              </a>
            
              
              <a class="source" href="popupManager.html">
                popupManager.js
              </a>
            
              
              <a class="source" href="prototype.html">
                prototype.js
              </a>
            
              
              <a class="source" href="tmplHelper.html">
                tmplHelper.js
              </a>
            
              
              <a class="source" href="tmplUtil.html">
                tmplUtil.js
              </a>
            
              
              <a class="source" href="url.html">
                url.js
              </a>
            
              
              <a class="source" href="util.html">
                util.js
              </a>
            
              
              <a class="source" href="bootstrapper.html">
                bootstrapper.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>dictionary.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>ï»¿<span class="hljs-comment">/* global define */</span>

<span class="hljs-comment">/**
* Utility module containint useful static classes.
*
* @module Utils
*/</span>

<span class="hljs-comment">/**
* A set of useful functions for manipulating dictionaries.
*
*
* @class Dictionary
* @static
* @uses dojo/_base/array
* @uses dojo/_base/lang
* @uses Util
*/</span>
define([
        <span class="hljs-string">"dojo/_base/array"</span>, <span class="hljs-string">"dojo/_base/lang"</span>,
        <span class="hljs-string">"utils/util"</span>
],

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(
        dojoArray, dojoLang,
        UtilMisc)</span> </span>{<span class="hljs-pi">
        "use strict"</span>;

        <span class="hljs-keyword">return</span> {
            <span class="hljs-comment">/**
            * Iterates over the key-value pair in the given dictionary (in arbitrary order) and
            * calls the given function on each key-value pair.
            *
            * @method forEachEntry
            * @static
            * @param {Object} dict a dictionary object
            * @param {Function} fcn a function that takes the following parameters:
            *  - the `key`
            *  - the `value`
            *  - `obj` (an optional parameter) that contains two fields, exit and returnVal. If exit is set to true,
            * forEachEntry terminates right away (without iterating over the rest of the dictionary). The
            * return value of forEackKeyValuePair is returnVal (which by default is undefined).&lt;/param&gt;
            * @param {Function} [sortFcn] true if the dictionary keys are to be sorted before iterating
            * @param {Object} [scope] The scope to be hitched to the given fcn
            */</span>
            forEachEntry: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(dict, fcn, sortFcn, scope)</span> </span>{
                <span class="hljs-keyword">if</span> (!UtilMisc.isUndefined(scope)) {
                    fcn = dojoLang.hitch(scope, fcn);
                }

                <span class="hljs-keyword">var</span> keys = [];

                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> dict) {
                    <span class="hljs-keyword">if</span> (dict.hasOwnProperty(key)) {
                        keys.push(key);
                    }
                }

                <span class="hljs-keyword">if</span> (sortFcn) {
                    keys.sort(sortFcn);
                }

                dojoArray.forEach(keys, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(key)</span> </span>{
                    fcn(key, dict[key]);
                });
            },

            <span class="hljs-comment">/**
            * Iterates over the key-value pair in the given dictionary and
            * returns the index of the first element to cause the given fcn to return
            * true.
            *
            * @method find
            * @static
            * @param {Object} dict a dictionary object
            * @param {Function} fcn a function that takes the following parameters:
            * - the `key`
            * - the `value`
            * and returns true if the given key or value satisfy some condition
            * @param {Function} [compareFcn] a comparator function (takes two arguments and returns an integer) used to sort the keys
            */</span>
            find: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(dict, fcn, compareFcn)</span> </span>{
                <span class="hljs-keyword">var</span> keys = [];

                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> dict) {
                    <span class="hljs-keyword">if</span> (dict.hasOwnProperty(key)) {
                        keys.push(key);
                    }
                }

                <span class="hljs-keyword">if</span> (compareFcn) {
                    keys.sort(compareFcn);
                }

                <span class="hljs-keyword">var</span> index = -<span class="hljs-number">1</span>;
                dojoArray.some(keys, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(key, i)</span> </span>{
                    <span class="hljs-keyword">if</span> (fcn(key, dict[key])) {
                        index = i;
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                    }
                });

                <span class="hljs-keyword">return</span> index;
            },

            filter: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(dict, predicate)</span> </span>{
                <span class="hljs-keyword">var</span> filteredDict = {};
                <span class="hljs-keyword">this</span>.forEachEntry(dict, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(key, value)</span> </span>{
                    <span class="hljs-keyword">if</span> (predicate(key, value)) {
                        filteredDict[key] = value;
                    }
                });
                <span class="hljs-keyword">return</span> filteredDict;
            },

            <span class="hljs-comment">/**
            * Returns the number of keys in the given dictionary.
            *
            * @method length
            * @param {Object} dict a dictionary
            * @return {Integer} the number of keys in the dictionary
            * @static
            */</span>
            length: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(dict)</span> </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(dict).length;
            },

            <span class="hljs-comment">/**
            * Returns true if the given dictionary is empty (i.e. has no keys)
            *
            * @method isEmpty
            * @static
            * @param {Object} dict a dictionary
            * @return {Boolean} true if the dictionary is empty, false otherwise
            */</span>
            isEmpty: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(dict)</span> </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.length(dict) === <span class="hljs-number">0</span>;
            },

            <span class="hljs-comment">/**
           * Returns a shallow copy of the given dictionary.
           *
           * @static
           * @method clone
           * @param {Object} dict a dictionary
           * @return {Object} a shallow copy of the given dictionary
           */</span>
            clone: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(dict)</span> </span>{
                <span class="hljs-keyword">var</span> copy = {};
                <span class="hljs-keyword">this</span>.forEachEntry(dict, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(key, value)</span> </span>{
                    copy[key] = value;
                });
                <span class="hljs-keyword">return</span> copy;
            },

            <span class="hljs-comment">/**
            * Converts the given array into a dictionary, where the values of the dictionary are values in
            * the array, and the keys are the return value of the given function.
            *
            * @static
            * @method arrayToMap
            * @param {Object} arr an array
            * @param {Function} fcn a function that takes one argument and returns a key for the given argument
            * @return {Object} a dictionary
            */</span>
            arrayToMap: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(arr, fcn)</span> </span>{
                <span class="hljs-keyword">var</span> dict = {};
                dojoArray.forEach(arr, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(element)</span> </span>{
                    dict[fcn(arr)] = element;
                });
                <span class="hljs-keyword">return</span> dict;
            },

            <span class="hljs-comment">/**
            * Convert the given array into a dictionary, where the keys of the dictionary are the elements in the
            * first array and the values of the dictionary are elements in the second array. The size of the two arrays
            * must match.
            *
            * @static
            * @method zip
            * @param {Object} arr1 the key array
            * @param {Object} arr2 the value array
            * @return {Object} a dictionary
            */</span>
            zip: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(arr1, arr2)</span> </span>{
                <span class="hljs-keyword">if</span> (arr1.length !== arr2.length) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-string">"Array lengths differ"</span>;
                }

                <span class="hljs-keyword">var</span> dict = {};
                dojoArray.forEach(arr1, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(element, i)</span> </span>{
                    dict[element] = arr2[i];
                });
                <span class="hljs-keyword">return</span> dict;
            }
        };
    });</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
